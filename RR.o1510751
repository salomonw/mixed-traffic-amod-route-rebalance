time spent on set_exogenous_flow: 0.03s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.03s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.04s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.03s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.03s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.03s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.03s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.03s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.03s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.03s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on set_exogenous_flow: 0.04s
Using license file /usr/local/gurobi/gurobi.lic
Set parameter TokenServer to value sccsvc
time spent on get_obj_CARSn: 2.97s
time spent on add_epsilon_cnstr: 1.20s
time spent on add_demand_cnstr: 13.47s
time spent on add_rebalancing_cnstr: 0.36s
time spent on set_optimal_flows: 30.53s
time spent on solve_bush_CARSn: 612.90s
time spent on get_obj_CARSn: 2.95s
time spent on add_epsilon_cnstr: 1.19s
time spent on add_demand_cnstr: 13.30s
time spent on add_rebalancing_cnstr: 0.36s
time spent on set_optimal_flows: 25.83s
time spent on solve_bush_CARSn: 615.12s
time spent on get_obj_CARSn: 2.96s
time spent on add_epsilon_cnstr: 1.22s
time spent on add_demand_cnstr: 13.28s
time spent on add_rebalancing_cnstr: 0.37s
time spent on set_optimal_flows: 27.76s
time spent on solve_bush_CARSn: 613.64s
time spent on get_obj_CARSn: 3.53s
time spent on add_epsilon_cnstr: 1.27s
time spent on add_demand_cnstr: 14.56s
time spent on add_rebalancing_cnstr: 0.38s
time spent on set_optimal_flows: 23.69s
time spent on solve_bush_CARSn: 617.62s
time spent on get_obj_CARSn: 2.98s
time spent on add_epsilon_cnstr: 1.22s
time spent on add_demand_cnstr: 13.30s
time spent on add_rebalancing_cnstr: 0.37s
time spent on set_optimal_flows: 20.39s
time spent on solve_bush_CARSn: 626.84s
time spent on get_obj_CARSn: 2.97s
time spent on add_epsilon_cnstr: 1.22s
time spent on add_demand_cnstr: 13.30s
time spent on add_rebalancing_cnstr: 0.37s
time spent on set_optimal_flows: 24.15s
time spent on solve_bush_CARSn: 618.18s
time spent on get_obj_CARSn: 2.99s
time spent on add_epsilon_cnstr: 1.21s
time spent on add_demand_cnstr: 13.27s
time spent on add_rebalancing_cnstr: 0.37s
time spent on set_optimal_flows: 12.78s
time spent on solve_bush_CARSn: 631.34s
time spent on get_obj_CARSn: 2.99s
time spent on add_epsilon_cnstr: 1.22s
time spent on add_demand_cnstr: 13.27s
time spent on add_rebalancing_cnstr: 0.38s
time spent on set_optimal_flows: 12.78s
time spent on solve_bush_CARSn: 636.68s
time spent on get_obj_CARSn: 2.96s
time spent on add_epsilon_cnstr: 1.19s
time spent on add_demand_cnstr: 13.13s
time spent on add_rebalancing_cnstr: 0.37s
time spent on set_optimal_flows: 9.25s
time spent on solve_bush_CARSn: 675.33s
time spent on get_obj_CARSn: 2.94s
time spent on add_epsilon_cnstr: 1.21s
time spent on add_demand_cnstr: 13.25s
time spent on add_rebalancing_cnstr: 0.37s
time spent on set_optimal_flows: 4.49s
time spent on solve_bush_CARSn: 680.17s
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/share/pkg.7/python3/3.7.9/install/lib/python3.7/multiprocessing/pool.py", line 121, in worker
    result = (True, func(*args, **kwds))
  File "/share/pkg.7/python3/3.7.9/install/lib/python3.7/multiprocessing/pool.py", line 44, in mapstar
    return list(map(*args))
  File "/usr3/graduate/salomonw/Github/mixed-traffic-amod-route-rebalance/experiments/run_penRate_intermodal_journal.py", line 90, in solve_stackelberg_game
    theta_n=theta_n, theta=theta_cavs, a=a_cavs, od_flows_flag=False)
  File "/usr3/graduate/salomonw/Github/mixed-traffic-amod-route-rebalance/src/utils.py", line 319, in new_f
    r = f(*args, **kwargs)
  File "/usr3/graduate/salomonw/Github/mixed-traffic-amod-route-rebalance/src/CARS.py", line 385, in solve_bush_CARSn
    exogenous_G = set_exogenous_flow(tnet, exogenous_G)
  File "/usr3/graduate/salomonw/Github/mixed-traffic-amod-route-rebalance/src/utils.py", line 319, in new_f
    r = f(*args, **kwargs)
  File "/usr3/graduate/salomonw/Github/mixed-traffic-amod-route-rebalance/src/CARS.py", line 194, in set_exogenous_flow
    exo_G[i][j]['flow'] = exogenous_G[i][j]['flow']
KeyError: 'flow'
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/share/pkg.7/python3/3.7.9/install/lib/python3.7/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/share/pkg.7/python3/3.7.9/install/lib/python3.7/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/usr3/graduate/salomonw/Github/mixed-traffic-amod-route-rebalance/experiments/run_penRate_intermodal_journal.py", line 277, in <module>
    result = penRate(netname,dir_out=dir_out,rebalancing=rebalancing, n=n, theta_n=theta_n, linear=linear,  demand_multiplier=demand_multiplier, n_iter=n_iter, parallel=parallel)
  File "/usr3/graduate/salomonw/Github/mixed-traffic-amod-route-rebalance/experiments/run_penRate_intermodal_journal.py", line 167, in penRate
    results = pool.map(solve_stackelberg_game, pars)
  File "/share/pkg.7/python3/3.7.9/install/lib/python3.7/multiprocessing/pool.py", line 268, in map
    return self._map_async(func, iterable, mapstar, chunksize).get()
  File "/share/pkg.7/python3/3.7.9/install/lib/python3.7/multiprocessing/pool.py", line 657, in get
    raise self._value
KeyError: 'flow'
